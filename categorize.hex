% assign exactly one label to each object with functional external atom:

assigned_label(X,L) :- object(X), &predict["temp/test/model.pkl",X,filter,10](Y), label(Y,L).

assigned(X) :- assigned_label(X,_).
:- object(X), not assigned(X).

filter(X,Y) :- object(X), label(Y,wh), not in_wheel_position(X).

in_wheel_position(X) :- assigned_label(Y,c), object(X), X != Y, &spatial[Y,X,S,10](contains), scene(S).




% if there is a monitor there is at least one keyboard (soft constraint)

%{associated(X,Y) : object(Y)} >= 1 :- has_keyboard(X).

%:- associated(X1,Y), associated(X2,Y), X1 != X2.

%filter(Y,X) :- associated(_,Y), label(X,L), L != keyboard.

%has_keyboard(X) :- assigned_label(X,monitor), not n_has_keyboard(X).
%n_has_keyboard(X) :- assigned_label(X,monitor), not has_keyboard(X).

%:~ n_has_keyboard(X), assigned_label(X,monitor). [1@1,X]


